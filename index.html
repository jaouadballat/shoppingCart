<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>javascript</title>
</head>
<body>
	<script>
		var cart = [];
		var Item = function(name, cost, count){
			this.name = name;
			this.cost = cost;
			this.count = count;
		}
		 function addItemToCart(name, cost, count){

		 	for(var i in cart){
		 		if(cart[i].name == name){
		 			cart[i].count++;return;
		 		}
		 	}
		 	var item = new Item(name, cost, count);
		 	cart.push(item);
		 	saveCart();
		 } 

		 function removeItemFromCart(name){
		 	for (var i in cart){
		 		if(cart[i].name == name){
		 			cart[i].count--;
		 			if(cart[i].count == 0){
		 				cart.splice(i, 1);
		 			}
		 		}
		 	}
		 	saveCart();
		 }
		 function removeItemFromCartAll(name){
		 	for(var i in cart){
		 		if(cart[i].name == name){
		 			cart.splice(i, 1);break;
		 		}
		 	}
		 	saveCart();
		 }

		 function clearCart(){
		 	cart = [];
		 	saveCart();

		 }

		 function countCart(){
		 	var totalItems = 0;
		 	for(var i in cart){
		 		totalItems +=cart[i].count;
		 	}
		 	return totalItems;
		 }
		 function totalCart(){
		 	var totalCost = 0;
		 	for(var i in cart){
		 		totalCost+=cart[i].cost;
		 	}
		 	return totalCost;
		 }

		 function listCart(){
		 var cartCopy = [];
		 for(var i in cart){
		 	var item = cart[i];
		 	var itemCopy = {};
		 	for(var j in item){
		 		itemCopy[j] = item[j];
		 	}
		 	cartCopy.push(itemCopy);
		 }
		 return cartCopy;
		}
		function saveCart(){
			localStorage.setItem('shoppingCart', JSON.stringify(cart));
		}
		function loadCart(){
		 cart = JSON.parse(localStorage.getItem("shoppingCart"));
		}
		loadCart();
		console.log(cart)

		console.log(listCart())
	</script>
</body>
</html>